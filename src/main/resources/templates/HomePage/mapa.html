<!DOCTYPE HTML>
<!--
	Landed by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html lang="es" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
	<title>Sistema Nacional de Monitoreo En Tiempo Real de la Calidad del Agua</title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet"  th:href="@{/css/main.css}"/>
	<noscript><link rel="stylesheet"  th:href="@{/css/noscript.css}"/></noscript>
</head>
<body class="is-preload">
<div id="page-wrapper">

	<!-- Header -->
	<header id="header">
		<h1 id="logo"><a th:href="@{/}">Aquality</a></h1>
		<nav id="nav">
			<ul>
				<li><a th:href="@{/}">Home</a></li>
				<li>
					<a>Menu</a>
					<ul>
						<li><a th:href="@{/mapa}">Monitorea las Fuentes Hídricas</a></li>
						<li><a th:href="@{/historico}">Histórico</a></li>
						<li><a th:href="@{/sistema}">Cartografía Nacional del Agua</a></li>
					</ul>
				</li>
				<li><a th:href="@{/login}">Sign In</a></li>
				<li><a th:href="@{/register}" class="button primary">Sign Up</a></li>
			</ul>
		</nav>
	</header>

	<!-- Main -->
	<div id="main" class="wrapper style1">
		<div class="container">
			<header class="major">
				<h2>Sistema Nacional de Monitoreo En Tiempo Real de la Calidad del Agua</h2>
			</header>
			<div class="row gtr-150">
				<div class="col-4 col-12-medium">

					<!-- Sidebar -->
					<section id="sidebar">
						<section>
							<h3>Registro Histórico</h3>
							<p>¿Necesitas información más detallada? Regístrate ahora y accede a la bastedad del conocimiento hídrico nacional de cada variable desde el principio de los tiempos.</p>
							<footer>
								<ul class="actions">
									<li><a th:href="@{/historico}" class="button">Ir Allá</a></li>
								</ul>
							</footer>
						</section>
						<hr />
						<section>
							<h3>Visualización Cartográfica por Variable</h3>
							<p>Lo que es más, podrás consultar información hídrica departamental y municipal, organizada de manera cartográfica por cada variable, PH, temperatura, conductividad eléctrica, turbidez y profundidad. ¿Ya tienes una cuenta?</p>
							<footer>
								<ul class="actions">
									<li><a th:href="@{/login}" class="button">Iniciar Sesión</a></li>
								</ul>
							</footer>
						</section>
					</section>

				</div>
				<div class="col-8 col-12-medium imp-medium">

					<!-- Content -->
					<section id="content">
						<!--div class="container medium" align-items: left-->
						<!-- justify-content: center align-items: center -->
						<style>
							@import url(https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300|Josefin+Slab|Arvo|Lato|Vollkorn|Abril+Fatface|Old+Standard+TT|Droid+Sans|Lobster|Inconsolata|Montserrat|Playfair+Display|Karla|Alegreya|Libre+Baskerville|Merriweather|Lora|Archivo+Narrow|Neuton|Signika|Questrial|Fjalla+One|Bitter|Varela+Round);

							.background {
								fill: #eee;
								pointer-events: all;
								justify-content: center;
								align-items: center;
							}

							.map-layer {
								fill: #fff;
								stroke: #aaa;

							}

							.effect-layer{
								pointer-events:none;
							}

							text{
								font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
								font-weight: 300;
							}

							text.big-text{
								font-size: 30px;
								font-weight: 400;
							}

							.effect-layer text, text.dummy-text{
								font-size: 12px;
							}

						</style>
						<body>

						<svg></svg>

						<script src="https://d3js.org/d3.v3.min.js"></script>
						<script>

							var width = 855,
									height = 500,
									centered;

							// Define color scale
							var color = d3.scale.linear()
									.domain([1, 20])
									.clamp(true)
									.range(['#fff', '#409A99']);

							var projection = d3.geo.mercator()
									.scale(1500)
									// Center the Map in Colombia
									.center([-74, 4.5])
									.translate([width / 2, height / 2]);

							var path = d3.geo.path()
									.projection(projection);

							// Set svg width & height
							var svg = d3.select('svg')
									.attr('width', width)
									.attr('height', height);

							// Add background
							svg.append('rect')
									.attr('class', 'background')
									.attr('width', width)
									.attr('height', height)
									.on('click', clicked);

							var g = svg.append('g');

							var effectLayer = g.append('g')
									.classed('effect-layer', true);

							var mapLayer = g.append('g')
									.classed('map-layer', true);

							var dummyText = g.append('text')
									.classed('dummy-text', true)
									.attr('x', 10)
									.attr('y', 30)
									.style('opacity', 0);

							var bigText = g.append('text')
									.classed('big-text', true)
									.attr('x', 20)
									.attr('y', 45);

							// Load map data
							d3.json('https://gist.githubusercontent.com/john-guerra/43c7656821069d00dcbc/raw/be6a6e239cd5b5b803c6e7c2ec405b793a9064dd/Colombia.geo.json', function(error, mapData) {
								var features = mapData.features;

								// Update color scale domain based on data
								color.domain([0, d3.max(features, nameLength)]);

								// Draw each province as a path
								mapLayer.selectAll('path')
										.data(features)
										.enter().append('path')
										.attr('d', path)
										.attr('vector-effect', 'non-scaling-stroke')
										.style('fill', fillFn)
										.on('mouseover', mouseover)
										.on('mouseout', mouseout)
										.on('click', clicked);
							});

							// Get province name
							function nameFn(d){
								return d && d.properties ? d.properties.NOMBRE_DPT : null;
							}

							// Get province name length
							function nameLength(d){
								var n = nameFn(d);
								return n ? n.length : 0;
							}

							// Get province color
							function fillFn(d){
								return color(nameLength(d));
							}

							// When clicked, zoom in
							function clicked(d) {
								var x, y, k;

								// Compute centroid of the selected path
								if (d && centered !== d) {
									var centroid = path.centroid(d);
									x = centroid[0];
									y = centroid[1];
									k = 4;
									centered = d;
								} else {
									x = width / 2;
									y = height / 2;
									k = 1;
									centered = null;
								}

								// Highlight the clicked province
								mapLayer.selectAll('path')
										.style('fill', function(d){return centered && d===centered ? '#003D44' : fillFn(d);});

								// Zoom
								g.transition()
										.duration(750)
										.attr('transform', 'translate(' + width / 2 + ',' + height / 2 + ')scale(' + k + ')translate(' + -x + ',' + -y + ')');
							}

							function mouseover(d){
								// Highlight hovered province
								d3.select(this).style('fill', '#FFA71F');

								// Draw effects
								textArt(nameFn(d));
							}

							function mouseout(d){
								// Reset province color
								mapLayer.selectAll('path')
										.style('fill', function(d){return centered && d===centered ? '#003D44' : fillFn(d);});

								// Remove effect text
								effectLayer.selectAll('text').transition()
										.style('opacity', 0)
										.remove();

								// Clear province name
								bigText.text('');
							}

							// Gimmick
							// Just me playing around.
							// You won't need this for a regular map.

							var BASE_FONT = "'Helvetica Neue', Helvetica, Arial, sans-serif";

							var FONTS = [
								"Open Sans",
								"Josefin Slab",
								"Arvo",
								"Lato",
								"Vollkorn",
								"Abril Fatface",
								"Old StandardTT",
								"Droid+Sans",
								"Lobster",
								"Inconsolata",
								"Montserrat",
								"Playfair Display",
								"Karla",
								"Alegreya",
								"Libre Baskerville",
								"Merriweather",
								"Lora",
								"Archivo Narrow",
								"Neuton",
								"Signika",
								"Questrial",
								"Fjalla One",
								"Bitter",
								"Varela Round"
							];

							function textArt(text){
								// Use random font
								var fontIndex = Math.round(Math.random() * FONTS.length);
								var fontFamily = FONTS[fontIndex] + ', ' + BASE_FONT;

								bigText
										.style('font-family', fontFamily)
										.text(text);

								// Use dummy text to compute actual width of the text
								// getBBox() will return bounding box
								dummyText
										.style('font-family', fontFamily)
										.text(text);
								var bbox = dummyText.node().getBBox();

								var textWidth = bbox.width;
								var textHeight = bbox.height;
								var xGap = 3;
								var yGap = 1;

								// Generate the positions of the text in the background
								var xPtr = 0;
								var yPtr = 0;
								var positions = [];
								var rowCount = 0;
								while(yPtr < height){
									while(xPtr < width){
										var point = {
											text: text,
											index: positions.length,
											x: xPtr,
											y: yPtr
										};
										var dx = point.x - width/2 + textWidth/2;
										var dy = point.y - height/2;
										point.distance = dx*dx + dy*dy;

										positions.push(point);
										xPtr += textWidth + xGap;
									}
									rowCount++;
									xPtr = rowCount%2===0 ? 0 : -textWidth/2;
									xPtr += Math.random() * 10;
									yPtr += textHeight + yGap;
								}

								var selection = effectLayer.selectAll('text')
										.data(positions, function(d){return d.text+'/'+d.index;});

								// Clear old ones
								selection.exit().transition()
										.style('opacity', 0)
										.remove();

								// Create text but set opacity to 0
								selection.enter().append('text')
										.text(function(d){return d.text;})
										.attr('x', function(d){return d.x;})
										.attr('y', function(d){return d.y;})
										.style('font-family', fontFamily)
										.style('fill', '#777')
										.style('opacity', 0);

								selection
										.style('font-family', fontFamily)
										.attr('x', function(d){return d.x;})
										.attr('y', function(d){return d.y;});

								// Create transtion to increase opacity from 0 to 0.1-0.5
								// Add delay based on distance from the center of the <svg> and a bit more randomness.
								selection.transition()
										.delay(function(d){
											return d.distance * 0.01 + Math.random()*1000;
										})
										.style('opacity', function(d){
											return 0.1 + Math.random()*0.4;
										});
							}

						</script>
						<!--/div-->
					</section>

				</div>
			</div>
		</div>
	</div>

	<!-- Footer -->
	<footer id="footer">
		<ul class="icons">
			<li><a href="#" class="icon brands alt fa-twitter"><span class="label">Twitter</span></a></li>
			<li><a href="#" class="icon brands alt fa-facebook-f"><span class="label">Facebook</span></a></li>
			<li><a href="#" class="icon brands alt fa-linkedin-in"><span class="label">LinkedIn</span></a></li>
			<li><a href="#" class="icon brands alt fa-instagram"><span class="label">Instagram</span></a></li>
			<li><a href="#" class="icon brands alt fa-github"><span class="label">GitHub</span></a></li>
			<li><a href="#" class="icon solid alt fa-envelope"><span class="label">Email</span></a></li>
		</ul>
		<ul class="copyright">
			<li>&copy; Untitled. All rights reserved.</li><li>Design: <a href="http://html5up.net">HTML5 UP</a></li>
		</ul>
	</footer>

</div>

<!-- Scripts -->
	<script th:src="@{/js/jquery.min.js}"></script>
	<script th:src="@{/js/jquery.scrolly.min.js}"></script>
	<script th:src="@{/js/jquery.dropotron.min.js}"></script>
	<script th:src="@{/js/jquery.scrollex.min.js}"></script>
	<script th:src="@{/js/browser.min.js}"></script>
	<script th:src="@{/js/breakpoints.min.js}"></script>
	<script th:src="@{/js/util.js}"></script>
	<script th:src="@{/js/main.js}"></script>


</body>
</html>