<!DOCTYPE html>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org " >
    <meta charset="UTF-8">
    <meta http-equiv="refresh" content="5" >
    <title>Title</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/1496198fc5.css">
    <link rel="stylesheet"  th:href="@{/css/main.css}"/>
    </head>
<body>

<nav class="navbar navbar-light bg-dark mb-5">
  <div class="container-fluid">
    <a class="navbar-brand text-light" href="#">Navbar</a>
  </div>
</nav>

<div class="container">

  <div class="align-selft-center w-100" th:if="${param.success}">
    <div class="alert alert-info m2 ">
      Eliminado correctamente!!
    </div>
  </div>
  <div class="align-selft-center w-100" th:if="${param.error}">
    <div class="alert alert-danger m2 ">
      Problema al eliminar!!
    </div>
  </div>

  <div class="row">
    <div class="col">
      <button type="submit" class="btn btn-info mb-2" th:href="@{/watersource/adminWaterSrc}">Sincronizar Datos<i class="fas fa-sync"></i></button>
        <table class="table table-dark table-hover table-bordered">
          <thead>
          <tr>
            <th scope="col">Nombre Fuente</th>
            <th scope="col">PH</th>
            <th scope="col">Temperatura</th>
            <th scope="col">Conductividad</th>
            <th scope="col">Profundidad</th>
            <th scope="col">Turbidez</th>
            <th scope="col">Editar</th>
            <th scope="col">Eliminar</th>
          </tr>
          </thead>
          <tbody>
          <tr th:each="fuente : ${fuentes}">
            <td th:text="${fuente.name}"></td>
            <td th:text="${fuente.valoracion.getpH()[fuente.valoracion.getpH().size()-1]}"></td>
            <td th:text="${fuente.valoracion.getTemperature()[fuente.valoracion.getTemperature().size()-1]}"></td>
            <td th:text="${fuente.valoracion.getConductivity()[fuente.valoracion.getConductivity().size()-1]}"></td>
            <td th:text="${fuente.valoracion.getDepth()[fuente.valoracion.getDepth().size()-1]}"></td>
            <td th:text="${fuente.valoracion.getTurbidity()[fuente.valoracion.getTurbidity().size()-1]}"></td>
            <td><button class="btn btn-primary w-100"><i class="fa fa-edit"></i></button></td>
            <td>
              <form th:action="@{/watersource/delete/}" method="delete">
                <input type="hidden" name="id" th:params="${fuente.id}"/>
                <button type="submit" class="btn btn-danger w-100"><i class="fa fa-trash"></i></button>
              </form>
          </tr>
          </tbody>
        </table>
    </div>
  </div>
</div>
</body>
</html>